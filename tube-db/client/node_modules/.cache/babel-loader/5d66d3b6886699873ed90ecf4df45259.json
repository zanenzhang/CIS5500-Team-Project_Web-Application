{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport shallowEqual from 'shallowequal';\nexport function createContext() {\n  var Context = /*#__PURE__*/React.createContext(null);\n\n  var Provider = function Provider(_ref) {\n    var value = _ref.value,\n        children = _ref.children;\n    var valueRef = React.useRef(value);\n    valueRef.current = value;\n\n    var _React$useState = React.useState(function () {\n      return {\n        getValue: function getValue() {\n          return valueRef.current;\n        },\n        listeners: new Set()\n      };\n    }),\n        _React$useState2 = _slicedToArray(_React$useState, 1),\n        context = _React$useState2[0];\n\n    useLayoutEffect(function () {\n      context.listeners.forEach(function (listener) {\n        listener(value);\n      });\n    }, [value]);\n    return /*#__PURE__*/React.createElement(Context.Provider, {\n      value: context\n    }, children);\n  };\n\n  return {\n    Context: Context,\n    Provider: Provider\n  };\n}\nexport function useContextSelector(holder, selector) {\n  var eventSelector = useEvent(selector);\n  var context = React.useContext(holder === null || holder === void 0 ? void 0 : holder.Context);\n\n  var _ref2 = context || {},\n      listeners = _ref2.listeners,\n      getValue = _ref2.getValue;\n\n  var _React$useState3 = React.useState(function () {\n    return eventSelector(context ? getValue() : null);\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      value = _React$useState4[0],\n      setValue = _React$useState4[1];\n\n  useLayoutEffect(function () {\n    if (!context) {\n      return;\n    }\n\n    function trigger(nextValue) {\n      setValue(function (prev) {\n        var selectedValue = eventSelector(nextValue);\n        return shallowEqual(prev, selectedValue) ? prev : selectedValue;\n      });\n    }\n\n    listeners.add(trigger);\n    return function () {\n      listeners.delete(trigger);\n    };\n  }, [context]);\n  return value;\n}","map":{"version":3,"sources":["/Users/derek/MCIT/550/Project/CIS5500-Team-Project/tube-db/client/node_modules/rc-table/es/ContextSelector/index.js"],"names":["_slicedToArray","React","useLayoutEffect","useEvent","shallowEqual","createContext","Context","Provider","_ref","value","children","valueRef","useRef","current","_React$useState","useState","getValue","listeners","Set","_React$useState2","context","forEach","listener","createElement","useContextSelector","holder","selector","eventSelector","useContext","_ref2","_React$useState3","_React$useState4","setValue","trigger","nextValue","prev","selectedValue","add","delete"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport shallowEqual from 'shallowequal';\nexport function createContext() {\n  var Context = /*#__PURE__*/React.createContext(null);\n\n  var Provider = function Provider(_ref) {\n    var value = _ref.value,\n        children = _ref.children;\n    var valueRef = React.useRef(value);\n    valueRef.current = value;\n\n    var _React$useState = React.useState(function () {\n      return {\n        getValue: function getValue() {\n          return valueRef.current;\n        },\n        listeners: new Set()\n      };\n    }),\n        _React$useState2 = _slicedToArray(_React$useState, 1),\n        context = _React$useState2[0];\n\n    useLayoutEffect(function () {\n      context.listeners.forEach(function (listener) {\n        listener(value);\n      });\n    }, [value]);\n    return /*#__PURE__*/React.createElement(Context.Provider, {\n      value: context\n    }, children);\n  };\n\n  return {\n    Context: Context,\n    Provider: Provider\n  };\n}\nexport function useContextSelector(holder, selector) {\n  var eventSelector = useEvent(selector);\n  var context = React.useContext(holder === null || holder === void 0 ? void 0 : holder.Context);\n\n  var _ref2 = context || {},\n      listeners = _ref2.listeners,\n      getValue = _ref2.getValue;\n\n  var _React$useState3 = React.useState(function () {\n    return eventSelector(context ? getValue() : null);\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      value = _React$useState4[0],\n      setValue = _React$useState4[1];\n\n  useLayoutEffect(function () {\n    if (!context) {\n      return;\n    }\n\n    function trigger(nextValue) {\n      setValue(function (prev) {\n        var selectedValue = eventSelector(nextValue);\n        return shallowEqual(prev, selectedValue) ? prev : selectedValue;\n      });\n    }\n\n    listeners.add(trigger);\n    return function () {\n      listeners.delete(trigger);\n    };\n  }, [context]);\n  return value;\n}"]},"metadata":{},"sourceType":"module"}